$exclude=@('venv','.git','__pycache__','.pytest_cache','htmlcov','.mypy_cache','.ruff_cache','.tox','.idea','.vscode','node_modules','.venv'); function Show-Tree($path='.', $prefix='', $depth=0, $maxDepth=8){ if($depth -gt $maxDepth){ return }; $items=Get-ChildItem -LiteralPath $path -Force | Where-Object { $exclude -notcontains $_.Name } | Sort-Object @{Expression='PSIsContainer';Descending=$true}, Name; for($i=0;$i -lt $items.Count;$i++){ $item=$items[$i]; $isLast=($i -eq $items.Count-1); $branch=if($isLast){'\---'}else{'+---'}; Write-Output ($prefix+$branch+$item.Name); if($item.PSIsContainer){ $nextPrefix=if($isLast){$prefix+'    '}else{$prefix+'|   '}; Show-Tree -path $item.FullName -prefix $nextPrefix -depth ($depth+1) -maxDepth $maxDepth } } }; Write-Output '.'; Show-Tree -path '.' -maxDepth 8
